<div class="m-2">

  <div class="row">

    <div class="col-md-6">
      <h1>Profile</h1>
    </div>
    <div class="col-md-6"></div>

  </div>

  @if( loader === true )
  {
    <div class="d-flex justify-content-center">
      <div class="spinner-border" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
  }
  @else
  {
    <div class="row">

      <form [formGroup]="update_profil_form" enctype="multipart/form-data">

        <div class="row mt-2">
          <div class="col-md-6">
            <img [src]="user_img_url_recent" class="rounded-circle" width="100" height="100">
          </div>
        </div>

        <div class="row mt-2">
          <mat-form-field class="col-md-6">
            <mat-label>Nom</mat-label>
            <input matInput type="text" formControlName="nom">
          </mat-form-field>
          <mat-form-field class="col-md-6">
            <mat-label>Prénom</mat-label>
            <input matInput type="text" formControlName="prenom">
          </mat-form-field>
        </div>

        <div class="row mt-2">
          <div class="col-md-12">
            <mat-label>Photo</mat-label>
            <input type="file" (change)="on_image_selected($event)" formControlName="image" class="form-control">
          </div>
        </div>

        <div class="row mt-4">
          <mat-form-field class="col-md-6">
            <mat-label>Nouveau mot de passe</mat-label>
            <input matInput type="password" formControlName="password">
          </mat-form-field>
          <mat-form-field class="col-md-6">
            <mat-label>Confirmation du nouveau mot de passe</mat-label>
            <input matInput type="password" formControlName="confirm_password">
            @if( error_password )
            {
              <span class="text-danger">{{ error_password }}</span>
            }
          </mat-form-field>
        </div>

        <div class="row mt-2">
          <div class="col-md-6">
            @if( !update_profil_form.valid )
            {
              <button  class="btn btn-success" disabled (click)="check_user()">Modifier</button><br>
            }
            @else
            {
              <button  class="btn btn-success" (click)="check_user()">Modifier</button><br>
            }

            @if( update_profil_form.touched )
            {
              <button  class="btn btn-light mt-2" (click)="reset_update_profile_form()">Réinitialiser le formulaire</button>
            }
          </div>
        </div>

      </form>

    </div>
  }

</div>
